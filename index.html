<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Hoasting Pterodactyl!</title>
  <meta name="description" content="Gxyenn Store: Solusi digital inovatif dengan gaya modern dan bersih. Temukan produk panel dan layanan terbaik untuk Anda.">
  <link rel="icon" type="image/png" href="https://cloudkuimages.guru/uploads/images/684c97244c279.png">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
  
  <meta property="og:title" content="My Hoasting - Pterodactyl!">
  <meta property="og:description" content="Desain bersih dan modern ala Saweria. Temukan kemudahan dan produk digital berkualitas di Gxyenn Store.">  
  <meta property="og:url" content="https://gxyennstore.netlify.app">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://cloudkuimages.guru/uploads/images/684c97244c279.png">
  <meta name="twitter:card" content="summary_large_image">

    <style>
      :root {
        --font-primary: 'Montserrat', sans-serif; 
        --font-secondary: 'Inter', sans-serif; 
        
        --saweria-bg: #ffffff;
        --saweria-bg-soft: #f8fafc; 
        --saweria-text-dark: #1e293b; 
        --saweria-text-medium: #475569;
        --saweria-text-light: #64748b;

        --saweria-blue: #3b82f6; 
        --saweria-blue-dark: #2563eb;
        --saweria-orange: #f97316; 
        --saweria-orange-dark: #ea580c;
        --saweria-green-buy: #10b981; 
        --saweria-green-buy-dark: #059669;
        
        --saweria-border: #e2e8f0;
        --saweria-card-shadow: 0 4px 8px -2px rgba(0, 0, 0, 0.08), 0 2px 4px -2px rgba(0, 0, 0, 0.05);
        --button-shadow-deep: 2px 4px 6px rgba(0,0,0,0.2), 0px 2px 3px rgba(0,0,0,0.14);
        --button-shadow-deep-hover: 3px 6px 8px rgba(0,0,0,0.25), 0px 3px 4px rgba(0,0,0,0.16);
      }
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { 
        font-family: var(--font-secondary);
        font-weight: 400;
        background-color: var(--saweria-bg-soft);
        color: var(--saweria-text-dark); 
        line-height: 1.6; 
        overflow-x: hidden; 
      }

      a { text-decoration: none; color: var(--saweria-blue); transition: color 0.2s ease; }
      a:hover { color: var(--saweria-blue-dark); }
      button { cursor: pointer; border: none; outline: none; font-family: inherit; transition: background-color 0.2s ease, transform 0.15s ease, box-shadow 0.15s ease; }
      h1,h2,h3,h4,h5,h6 { font-family: var(--font-primary); font-weight: 700; margin-bottom: 0.6em; letter-spacing: -0.25px; }

      .intro-overlay { 
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: blur(4px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10000;
  opacity: 1;
  visibility: visible;
  transition: opacity 0.4s ease-out, visibility 0.4s ease-out;
  padding: 0; /* pastikan tidak ada padding */
  box-sizing: border-box;
}

.intro-overlay.hide {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.intro-content {
  text-align: center;
  transform: scale(0.9);
  opacity: 0;
  animation: popInSimple 0.4s ease-out 0.1s forwards;
  margin: 0 auto; /* pastikan tengah */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

@keyframes popInSimple {
  to {
    opacity: 1;
    transform: scale(1);
  }
}
      .welcome-modal {
        background: var(--saweria-bg); padding: 25px 20px; border-radius: 10px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.12); width: 90%; max-width: 370px; position: relative;
      }
      .welcome-modal-close { position: absolute; top: 10px; right: 10px; background: transparent; border: none; color: var(--saweria-text-light); font-size: 1.5rem; cursor: pointer; }
      .welcome-modal iframe { width: 100%; height: 250px; border: none; border-radius: 8px; margin-bottom: 15px; }
      .intro-proceed-button { 
        display: inline-block; margin-top: 15px; padding: 12px 28px; font-size: 1rem; 
        color: white; background-color: var(--saweria-blue); 
        border-radius: 8px; box-shadow: var(--button-shadow-deep); font-weight: 600;
      }
      .intro-proceed-button:hover { background-color: var(--saweria-blue-dark); transform: translateY(-2px); box-shadow: var(--button-shadow-deep-hover); }
      
      #mainContent { opacity: 0; display: none; transition: opacity 0.4s ease-in-out; }
      #mainContent.visible { opacity: 1; display: block; }

      header { padding-top: 1.5rem; padding-bottom:1rem; text-align: center; position: relative; margin-bottom: 1rem; background-color: var(--saweria-bg); border-bottom: 1px solid var(--saweria-border); }
      .header-card { padding: 1rem 1rem 1.5rem 1rem; }
      .header-card img.profile-pic { width: 100px; height: 100px; border-radius: 12px; margin-bottom: 1rem; box-shadow: var(--saweria-card-shadow); }
      .header-card h1 { font-size: 2.3rem; font-weight: 800; margin-bottom: 0.25rem; color: var(--saweria-text-dark); }
      .header-card p.subtitle { font-family: var(--font-secondary); font-size: 1.1rem; margin-bottom: 1.8rem; color: var(--saweria-text-medium); font-weight: 500; }
      
      nav { display: flex; justify-content: center; flex-wrap: wrap; gap: 0.6rem; }
      nav a button, nav button:not(.login-btn):not(.register-btn) { background-color: var(--saweria-bg-soft); color: var(--saweria-text-medium); font-weight: 500; padding: 0.7rem 1rem; border-radius: 6px; font-size: 0.9rem; box-shadow: 0 1px 2px rgba(0,0,0,0.06); display: flex; align-items: center; gap: 0.4rem; border: 1px solid var(--saweria-border); font-family: var(--font-secondary); }
      nav a button:hover, nav button:not(.login-btn):not(.register-btn):hover { color: var(--saweria-blue); border-color: var(--saweria-blue); background-color: #eff6ff; transform: translateY(-1px); }
      nav a button i, nav button i { margin-right: 0.35em; font-size: 0.95em; }
      .auth-links { display: flex; gap: 0.8rem; } 
      #userInfo { font-weight: 500; font-size: 0.9rem; padding: 0.7rem 1rem; background-color: var(--saweria-bg-soft); border-radius: 6px; border: 1px solid var(--saweria-border); color: var(--saweria-text-dark); }
      #authNavLinks a button { font-weight: 600; padding: 0.8rem 1.6rem; box-shadow: var(--button-shadow-deep); border: none; color:white; border-radius: 8px; }
      #authNavLinks a button:hover { box-shadow: var(--button-shadow-deep-hover); transform: translateY(-2px) scale(1.02); }
      #authNavLinks a button.login-btn { background-color: var(--saweria-blue); }
      #authNavLinks a button.login-btn:hover { background-color: var(--saweria-blue-dark); }
      #authNavLinks a button.register-btn { background-color: var(--saweria-orange); }
      #authNavLinks a button.register-btn:hover { background-color: var(--saweria-orange-dark); }

      section { padding: 2.5rem 1rem; }
      section h1.section-title { font-size: 1.9rem; font-weight: 700; text-align: center; margin-bottom: 2.2rem; color: var(--saweria-text-dark); }
      section h1.section-title i { margin-right: 0.5rem; color: var(--saweria-blue); }
      
      .project-container { display: flex; overflow-x: auto; gap: 1.5rem; padding: 1.8rem 0.5rem; scroll-behavior: smooth; }
      .carousel-controls { display: flex; justify-content: center; gap: 0.9rem; margin-top: 1.2rem; }
      .carousel-controls button { background-color: var(--saweria-border); color: var(--saweria-text-medium); width: 38px; height: 38px; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 3px rgba(0,0,0,0.1); transition: all 0.2s ease; }
      .carousel-controls button:hover { background-color: #cbd5e0; color: var(--saweria-text-dark); }
      .carousel-controls button i { font-size: 1rem; }
      
      .list-produk {
  font-family: var(--font-primary);
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--saweria-text-dark);
  margin: 1.8rem 0 1.2rem;
  text-align: center;
}

.produk {
  background: var(--saweria-bg);
  border-radius: 12px;
  box-shadow: var(--saweria-card-shadow);
  padding: 1rem;
  width: 100%;
  max-width: 260px; 
  flex-shrink: 0;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  border: 1px solid var(--saweria-border);
  display: flex;
  flex-direction: column;
}

.produk:hover {
  transform: translateY(-6px);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.12), 0 4px 6px -2px rgba(0, 0, 0, 0.08);
}

.produk img {
  width: 100%;
  height: 140px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 0.8rem;
}

.produk h2 {
  font-size: 1.05rem;
  font-weight: 700;
  margin-bottom: 0.6rem;
  color: var(--saweria-text-dark);
  text-align: center;
}

.produk ul {
  list-style-type: none;
  margin-bottom: 0.8rem;
  padding-left: 0;
  font-size: 0.82rem;
  color: var(--saweria-text-medium);
  flex-grow: 1;
}

.produk ul li {
  font-family: var(--font-secondary);
  font-weight: 400;
  margin-bottom: 0.3rem;
  position: relative;
  padding-left: 1.4rem;
}

.produk ul li::before {
  content: '\f00c';
  font-family: 'Font Awesome 6 Free';
  font-weight: 900;
  position: absolute;
  left: 0;
  color: var(--saweria-green-buy);
  font-size: 0.75em;
}

.produk p.price-tag {
  font-family: var(--font-primary);
  font-size: 1rem;
  font-weight: 700;
  margin-top: auto;
  margin-bottom: 0.8rem;
  color: var(--saweria-text-dark);
  text-align: center;
}

.produk a.buy-button {
  display: inline-block;
  text-align: center;
  background: linear-gradient(135deg, #6ee7b7, #34d399);
  color: #064e3b;
  font-weight: 600;
  padding: 0.55rem 1rem;
  border-radius: 999px;
  box-shadow: 0 4px 12px rgba(52, 211, 153, 0.4);
  transition: all 0.2s ease;
  font-size: 0.82rem;
  max-width: 180px;
  margin: 0 auto;
}

.produk a.buy-button:hover {
  background: linear-gradient(135deg, #5ee6b0, #2dd4bf);
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 6px 16px rgba(45, 212, 191, 0.5);
}

.produk a.buy-button i {
  margin-right: 0.4em;
}
      .warning { background-color: #fffbeb; color: #9c4221; padding: 1.8rem 1.5rem; text-align: center; margin: 2.5rem 1rem; border-radius: 8px; border: 1px solid #fde68a; }
      .warning h1.section-title { color: #9c4221; margin-bottom: 1rem; font-size: 1.5rem; }
      .warning p { font-family: var(--font-secondary); font-weight: 400; max-width: 700px; margin: 0 auto; font-size: 1rem; line-height: 1.6; }
      
      .modal-base { display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.55); backdrop-filter: blur(4px); z-index: 10000; justify-content: center; align-items: center; }
      .modal-box { background: var(--saweria-bg); border: 1px solid var(--saweria-border); color: var(--saweria-text-dark); border-radius: 10px; width: 90%; max-width: 420px; padding: 25px; box-shadow: 0 15px 20px -5px rgba(0,0,0,0.12), 0 8px 8px -5px rgba(0,0,0,0.08); animation: slideUpModalSimple 0.3s ease-out forwards; max-height: 90vh; overflow-y: auto; }
      .modal-box .close-btn { position: absolute; top: 12px; right: 14px; font-size: 1.5rem; color: var(--saweria-text-light); }
      .modal-box .close-btn:hover { color: var(--saweria-text-dark); }
      .modal-box h2.modal-title { font-size: 1.3rem; font-weight: 600; margin-bottom: 1rem; text-align: center; }
      .modal-box .product-info { text-align: center; margin-bottom: 0.8rem; padding-bottom: 0.8rem; border-bottom: 1px solid var(--saweria-border); }
      .modal-box .product-info .name {font-family: var(--font-main); font-weight: 600; font-size: 1.05rem; }
      .modal-box .product-info .price {font-family: var(--font-main); font-weight: 600; font-size: 1rem; color: var(--saweria-blue); }
      
      .payment-item { background: #f8fafc; border: 1px solid var(--saweria-border); border-radius: 8px; padding: 10px 12px; margin-bottom: 8px; }
      .payment-item label { font-family: var(--font-main); font-weight: 500; display: block; color: var(--saweria-text-medium); font-size: 0.85rem; margin-bottom: 4px; }
      .payment-item span { display: inline-block; font-size: 0.9rem; color: var(--saweria-text-dark); }
      .copy-btn { background-color: var(--saweria-border); color: var(--saweria-text-medium); border-radius: 6px; padding: 5px 9px; font-size: 0.75rem; box-shadow: 0 1px 1px rgba(0,0,0,0.1); }
      .copy-btn:hover { background-color: #e2e8f0; }
      .payment-link { font-family: var(--font-main); font-weight: 500; font-size: 0.85rem; text-align: center; display: block; margin-top: 10px; }
      
      .form-section { margin-top: 1.1rem; }
      .form-section .info-label { font-family: var(--font-main); font-weight: 600; font-size: 1rem; color: var(--saweria-text-dark); display: block; margin: 1.1rem 0 0.6rem; text-align: center; }
      .form-group { margin-bottom: 0.9rem;}
      .form-group label { font-family: var(--font-main); font-weight: 500; display: block; text-align:left; font-size:0.9rem; margin-bottom:5px; color: var(--saweria-text-medium); }
      .form-group input[type="email"], .form-group input[type="text"], .form-group input[type="password"], .form-group input[type="file"] { 
          width: 100%; padding: 10px 12px; border-radius: 8px; border: 1px solid var(--saweria-border); background-color: var(--saweria-bg); color: var(--saweria-text-dark); font-size: 0.9rem; font-family: var(--font-secondary); font-weight: 400;
      }
      .form-group input:focus { border-color: var(--saweria-blue); box-shadow: 0 0 0 3px rgba(59,130,246,0.25); }
      .form-group input[type="file"] { padding: 8px; }

      .modal-footer-text { font-family: var(--font-secondary); font-weight: 400; font-size: 0.82rem; color: var(--saweria-text-light); margin-top: 8px; text-align: center; line-height: 1.5; }
      .modal-action-button { 
        margin-top: 1.4rem; background-color: var(--saweria-blue); color: white; 
        width: 100%; padding: 11px 0; border-radius: 8px; font-weight: 600; 
        font-size: 1rem; transition: all 0.2s; text-transform: none; 
        font-family: var(--font-main); box-shadow: var(--button-shadow-deep); 
      }
      .modal-action-button:hover { 
        background-color: var(--saweria-blue-dark); transform: translateY(-2px); 
        box-shadow: var(--button-shadow-deep-hover); 
      }
      #continueToPaymentButton { background-color: var(--saweria-blue); } /* Warna biru untuk tombol ini */
      #continueToPaymentButton:hover { background-color: var(--saweria-blue-dark); }
      .modal-action-button:disabled { background-color: #cbd5e0; color: #a0aec0; box-shadow: none; transform: none; }
.waifu-animasi {
  margin-top: 1.4rem;
  text-align: center;
}

.waifu-animasi video {
  max-width: 200px;
  border-radius: 12px;
  object-fit: cover;
}

.waifu-caption {
  font-family: var(--font-secondary);
  font-weight: 400;
  font-size: 0.9rem;
  color: var(--saweria-text-light);
  margin-top: 8px;
  font-style: italic;
}
       .faq, .about { background: var(--saweria-bg); border-radius: 10px; box-shadow: var(--saweria-card-shadow-light); padding: 2.2rem 1.8rem; max-width: 800px; margin: 2.8rem auto; border: 1px solid var(--saweria-border); }
      .faq h2.section-title, .about h2.section-title { font-size: 1.7rem; margin-bottom: 1.8rem; padding-bottom: 1rem; border-bottom: 1px solid var(--saweria-border); color: var(--saweria-text-dark); text-align: left; transform: none; left: 0; }
      .faq ul { list-style-type: none; padding-left: 0; }
      .faq ul li { margin-bottom: 1.4rem; }
      .faq ul li strong { font-family: var(--font-main); font-weight: 600; color: var(--saweria-text-dark); display: block; font-size: 1.1rem; margin-bottom: 0.5rem; }
      .faq ul li strong i { margin-right: 0.5rem; color: var(--saweria-blue); }
      .faq ul li p { font-family: var(--font-secondary); font-weight: 400; color: var(--saweria-text-medium); font-size: 0.95rem; line-height: 1.65; }
      .about p { font-family: var(--font-secondary); font-weight: 400; margin-bottom: 1.1rem; line-height: 1.75; color: var(--saweria-text-medium); font-size: 1rem; }
      
      .medsos { text-align: center; padding: 2.8rem 1.5rem; background-color: var(--saweria-bg-soft); border-top: 1px solid var(--saweria-border); border-bottom: 1px solid var(--saweria-border); } 
      .medsos h1.section-title { margin-bottom: 1.8rem; }
      .medsos-buttons { display: flex; flex-wrap: wrap; justify-content: center; gap: 1.1rem; margin-top: 1.8rem; }
      .medsos button { background-color: var(--saweria-blue); color: white; font-weight: 600; padding: 0.9rem 1.5rem; border-radius: 8px; display: flex; align-items: center; gap: 0.7rem; box-shadow: var(--button-shadow-deep); transition: all 0.2s ease; font-family: var(--font-main); text-transform: none; }
      .medsos button:hover { background-color: var(--saweria-blue-dark); transform: translateY(-2px); box-shadow: var(--button-shadow-deep-hover); }
      .medsos button i { font-size: 1.1rem; margin-right: 0.4em; }
      
      footer { background-color: #e2e8f0; color: var(--saweria-text-light); text-align: center; padding: 2rem 1rem; border-top: 1px solid #cbd5e0; margin-top: 0; }
      footer p { font-family: var(--font-secondary); font-weight: 400; font-size: 0.85rem; opacity: 0.9; margin-bottom: 0.5rem; }
      
      .back-to-top { position: fixed; bottom: 22px; right: 22px; width: 44px; height: 44px; border-radius: 50%; background: var(--saweria-blue); color: white; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 4px 8px rgba(0,0,0,0.18); transition: all 0.2s ease; opacity: 0; visibility: hidden; z-index: 1000; }
      .back-to-top.visible { opacity: 1; visibility: visible; }
      .back-to-top:hover { background: var(--saweria-blue-dark); transform: translateY(-3px); }
      .back-to-top i { font-size: 1.15em; }
      
      @media (max-width: 768px) {
        .header-card { padding: 1.5rem 0.8rem; }
.header-card img.profile-pic { width: 120px; height: 120px; margin-bottom: 0.8rem; }
.header-card h1 { font-size: 1.8rem; }
        .project-container { display: flex; overflow-x: auto; } 
        .carousel-controls { display:flex; } 
        .faq, .about { padding: 1.5rem; }
        .modal-box { padding: 15px; }
        nav a button, nav button { padding: 0.5rem 0.8rem; font-size: 0.8rem; }
        .list-produk { font-size: 1.3rem; }
      }
    </style>
</head>
<body>
  <!-- Konten HTML Anda dari sebelumnya -->
  <div class="intro-overlay" id="introOverlay">
  <div class="intro-content">
    <div class="welcome-modal">
      <!-- Tombol close (X) telah dihapus -->
      <iframe class="w-100 border-0" src="https://embed.lottiefiles.com/animation/31548" title="Welcome Animation"></iframe>
      <button class="intro-proceed-button" onclick="hideIntro()"><i class="fas fa-arrow-right"></i> View Dashboard</button>
    </div>
  </div>
</div>
  
  <div id="mainContent">
    <header id="home">
        <div class="header-card">
            <img src="https://cloudkuimages.guru/uploads/images/684c93b5d97db.jpg" alt="Logo Gxyenn Store" class="profile-pic">
            <h1>My Hoasting</h1>
            <p class="subtitle">Hoasting Panel Pterodactyl</p>
            
            <nav>
                <a href="#home"><button><i class="fas fa-home"></i> Home</button></a>
                <a href="https://whatsapp.com/channel/0029VbA2hBk545v0o99EWV1g" target="_blank" rel="noopener noreferrer"><button><i class="fas fa-star"></i> Testimoni</button></a>
                <a href="https://whatsapp.com/channel/0029Vap5nJh2UPBDIc9bja1s" target="_blank" rel="noopener noreferrer"><button><i class="fas fa-bullhorn"></i> Channel</button></a>
                <a href="#produc"><button><i class="fas fa-box"></i> Produk</button></a>
                <a href="#faq"><button><i class="fas fa-question"></i> FAQ</button></a>
                <a href="#about"><button><i class="fas fa-info"></i> Tentang</button></a>
                <a href="#medsos"><button><i class="fas fa-share-nodes"></i> Kontak</button></a>
                <div id="authNavLinks" class="auth-links">
                </div>
            </nav>
        </div>
    </header>
    
    <div class="modal-base" id="pteroSetupModal">
        <div class="modal-box">
            <button class="close-btn" onclick="closePteroSetupModal()"><i class="fas fa-times"></i></button>
            <h2 class="modal-title">Setup Akun Panel</h2>
            <div class="product-info">
                <p class="name" id="pteroSetupProductName"></p>
                <p class="price" id="pteroSetupProductPrice"></p>
            </div>

            <div class="form-section">
                <div class="form-group">
                    <label for="pteroUserFirstName">Nama Depan:</label>
                    <input type="text" id="pteroUserFirstName" placeholder="Nama depan Anda">
                </div>
                <div class="form-group">
                    <label for="pteroUserLastName">Nama Belakang:</label>
                    <input type="text" id="pteroUserLastName" placeholder="Nama belakang Anda">
                </div>
                <div class="form-group">
                    <label for="pteroUserEmail">Email untuk Panel:</label>
                    <input type="email" id="pteroUserEmail" placeholder="Email aktif untuk login panel">
                </div>
                <div class="form-group">
                    <label for="pteroUserPassword">Password Panel:</label>
                    <input type="password" id="pteroUserPassword" placeholder="Min. 8 karakter">
                </div>
                 <div class="form-group">
                    <label for="pteroConfirmPassword">Konfirmasi Password:</label>
                    <input type="password" id="pteroConfirmPassword" placeholder="Ulangi password">
                </div>
            </div>
            <p class="modal-footer-text">Pastikan email aktif & password kuat.</p>
            <button id="continueToPaymentButton" class="modal-action-button" onclick="continueToPayment()">Lanjut Pembayaran</button>
        </div>
    </div>

   <div class="modal-base" id="paymentModal">
    <div class="modal-box">
      <button class="close-btn" onclick="closePaymentModal()"><i class="fas fa-times"></i></button>
      <h2 class="modal-title payment-greeting">Hai <span id="greetingUserName"></span>, Selesaikan Pembayaran!</h2>
      <div class="product-info">
        <p class="name" id="paymentProductName"></p>
        <p class="price" id="paymentProductPrice"></p>
      </div>
  
      <h2 class="modal-title" style="font-size: 1.1rem; margin-top:15px;">Metode Pembayaran</h2>
      <div class="payment-item">
        <label>DANA:</label>
        <div class="payment-row">
          <span id="danaText">083877636168</span>
          <button class="copy-btn" onclick="copyText('danaText')"><i class="fas fa-copy"></i></button>
        </div>
      </div>
      <div class="payment-item">
        <label>GOPAY:</label>
        <div class="payment-row">
          <span id="gopayText">083877636168</span>
          <button class="copy-btn" onclick="copyText('gopayText')"><i class="fas fa-copy"></i></button>
        </div>
      </div>
        <div class="payment-item">
          <label>OVO:</label>
          <div class="payment-row">
            <span id="ovoText">Maaf, Payment Ovo Sedang Kosong!</span>
            <button class="copy-btn" onclick="copyText('ovoText')"><i class="fas fa-copy"></i></button>
          </div>
        </div>
        <div class="payment-item">
          <label>QRIS:</label>
          <div class="payment-row">
            <span id="qrisText">Qris Statis blm tersedia, silahkan minta Qris Dinamis ke admin!</span>
            <button class="copy-btn" onclick="copyText('qrisText')"><i class="fas fa-copy"></i></button>
          </div>
        </div>
        <a class="payment-link" id="qrisLink" target="_blank"><i class="fab fa-whatsapp"></i> Minta QRIS ke Admin</a>
  
      <div class="form-section">
        <label class="info-label">Konfirmasi Pesanan:</label>
        <div class="form-group">
            <label for="userEmailForOrder">Email Toko Anda:</label>
            <input type="email" id="userEmailForOrder" readonly>
        </div>
        <div class="form-group">
            <label for="transactionId">ID Transaksi / Nama Pengirim:</label>
            <input type="text" id="transactionId" placeholder="Opsional">
        </div>
        <div class="form-group">
            <label for="paymentProof">Upload Bukti Transfer:</label>
            <input type="file" id="paymentProof" accept="image/*,application/pdf">
        </div>
      </div>
  
      <p class="modal-footer-text">Setelah transfer, Wajib! kirim bukti pembayaran. Pesanan akan diproses setelah dikonfirmasi.</p>
      <button id="submitOrderButton" class="modal-action-button" onclick="submitOrder()">Kirim Pesanan</button>
      <div class="waifu-animasi">
  <video autoplay loop muted playsinline style="max-width: 200px; border-radius: 12px;">
    <source src="https://cloudkuimages.guru/uploads/videos/684c94eb24767.mp4" type="video/mp4">
    Browser kamu tidak mendukung video.
  </video>
  <p class="waifu-caption">
    HaiðŸ‘‹ <span id="greetingUserName"></span> Silakan Selesaikan Pembayaran!
  </p>
</div>
</div>
</div>
    <section id="produc">
    <h1 class="section-title"><i class="fas fa-box-open"></i> Produk Kami</h1>

    <div class="list-produk">LIST PANEL BASIC</div>
    <div class="project-container" id="productCarouselPtero">
        <!-- Loop dari sini -->

<!-- 1GB -->
<div class="produk">
  <img src="https://cloudkuimages.guru/uploads/images/681c5e133866a.jpg" alt="Panel 1GB">
  <h2>Panel RAM 1GB</h2>
  <ul><li>CPU 40%</li><li>Dukungan Cepat</li><li>Garansi 3 Days</li></ul>
  <p class="price-tag">Rp 1.000/Bulan</p>
  <a href="#" class="buy-button" onclick="openProductOrderFlow('1000', 'Panel RAM 1GB CPU 40%', 'Rp 1.000/Bulan', 'pterodactyl'); return false;"><i class="fas fa-shopping-cart"></i>Beli Sekarang</a>
</div>

<!-- 2GB -->
<div class="produk">
  <img src="https://cloudkuimages.guru/uploads/images/681c5e133866a.jpg" alt="Panel 2GB">
  <h2>Panel RAM 2GB</h2>
  <ul><li>CPU 60%</li><li>Dukungan Cepat</li><li>Garansi 3 Days</li></ul>
  <p class="price-tag">Rp 2.000/Bulan</p>
  <a href="#" class="buy-button" onclick="openProductOrderFlow('2000', 'Panel RAM 2GB CPU 60%', 'Rp 2.000/Bulan', 'pterodactyl'); return false;"><i class="fas fa-shopping-cart"></i>Beli Sekarang</a>
</div>

<!-- 3GB -->
<div class="produk">
  <img src="https://cloudkuimages.guru/uploads/images/681c5e133866a.jpg" alt="Panel 3GB">
  <h2>Panel RAM 3GB</h2>
  <ul><li>CPU 80%</li><li>Dukungan Cepat</li><li>Garansi 3 Days</li></ul>
  <p class="price-tag">Rp 3.000/Bulan</p>
  <a href="#" class="buy-button" onclick="openProductOrderFlow('3000', 'Panel RAM 3GB CPU 80%', 'Rp 3.000/Bulan', 'pterodactyl'); return false;"><i class="fas fa-shopping-cart"></i>Beli Sekarang</a>
</div>

<!-- 4GB -->
<div class="produk">
  <img src="https://cloudkuimages.guru/uploads/images/681c5e133866a.jpg" alt="Panel 4GB">
  <h2>Panel RAM 4GB</h2>
  <ul><li>CPU 100%</li><li>Dukungan Cepat</li><li>Garansi 3 Days</li></ul>
  <p class="price-tag">Rp 4.000/Bulan</p>
  <a href="#" class="buy-button" onclick="openProductOrderFlow('4000', 'Panel RAM 4GB CPU 100%', 'Rp 4.000/Bulan', 'pterodactyl'); return false;"><i class="fas fa-shopping-cart"></i>Beli Sekarang</a>
</div>

<!-- Panel RAM 5GB CPU 120% -->
<div class="produk">           
  <img src="https://cloudkuimages.guru/uploads/images/681c5e133866a.jpg" alt="Panel 5GB">
  <h2>Panel RAM 5GB</h2>
  <ul><li>CPU 120%</li><li>Dukungan Cepat</li><li>Garansi 3 Days</li></ul>
  <p class="price-tag">Rp 5.000/Bulan</p>
  <a href="#" class="buy-button" onclick="openProductOrderFlow('5000', 'Panel RAM 5GB CPU 120%', 'Rp 5.000/Bulan', 'pterodactyl'); return false;">
    <i class="fas fa-shopping-cart"></i>Beli Sekarang
  </a>
</div>

<!-- Panel RAM 6GB CPU 150% -->
<div class="produk">           
  <img src="https://cloudkuimages.guru/uploads/images/681c5e133866a.jpg" alt="Panel 6GB">
  <h2>Panel RAM 6GB</h2>
  <ul><li>CPU 150%</li><li>Dukungan Cepat</li><li>Garansi 3 Days</li></ul>
  <p class="price-tag">Rp 6.000/Bulan</p>
  <a href="#" class="buy-button" onclick="openProductOrderFlow('6000', 'Panel RAM 6GB CPU 150%', 'Rp 6.000/Bulan', 'pterodactyl'); return false;">
    <i class="fas fa-shopping-cart"></i>Beli Sekarang
  </a>
</div>

<!-- Panel RAM 7GB CPU 170% -->
<div class="produk">           
  <img src="https://cloudkuimages.guru/uploads/images/681c5e133866a.jpg" alt="Panel 7GB">
  <h2>Panel RAM 7GB</h2>
  <ul><li>CPU 170%</li><li>Dukungan Cepat</li><li>Garansi 3 Days</li></ul>
  <p class="price-tag">Rp 7.000/Bulan</p>
  <a href="#" class="buy-button" onclick="openProductOrderFlow('7000', 'Panel RAM 7GB CPU 170%', 'Rp 7.000/Bulan', 'pterodactyl'); return false;">
    <i class="fas fa-shopping-cart"></i>Beli Sekarang
  </a>
</div>

<!-- Panel RAM 8GB CPU 180% -->
<div class="produk">           
  <img src="https://cloudkuimages.guru/uploads/images/681c5e133866a.jpg" alt="Panel 8GB">
  <h2>Panel RAM 8GB</h2>
  <ul><li>CPU 180%</li><li>Dukungan Cepat</li><li>Garansi 3 Days</li></ul>
  <p class="price-tag">Rp 8.000/Bulan</p>
  <a href="#" class="buy-button" onclick="openProductOrderFlow('8000', 'Panel RAM 8GB CPU 180%', 'Rp 8.000/Bulan', 'pterodactyl'); return false;">
    <i class="fas fa-shopping-cart"></i>Beli Sekarang
  </a>
</div>

<!-- Panel RAM 9GB CPU 200% -->
<div class="produk">           
  <img src="https://cloudkuimages.guru/uploads/images/681c5e133866a.jpg" alt="Panel 9GB">
  <h2>Panel RAM 9GB</h2>
  <ul><li>CPU 200%</li><li>Dukungan Cepat</li><li>Garansi 3 Days</li></ul>
  <p class="price-tag">Rp 8.500/Bulan</p>
  <a href="#" class="buy-button" onclick="openProductOrderFlow('8500', 'Panel RAM 9GB CPU 200%', 'Rp 8.500/Bulan', 'pterodactyl'); return false;">
    <i class="fas fa-shopping-cart"></i>Beli Sekarang
  </a>
</div>

<!-- Panel RAM 10GB CPU 220% -->
<div class="produk">           
  <img src="https://cloudkuimages.guru/uploads/images/681c5e133866a.jpg" alt="Panel 10GB">
  <h2>Panel RAM 10GB</h2>
  <ul><li>CPU 220%</li><li>Dukungan Cepat</li><li>Garansi 3 Days</li></ul>
  <p class="price-tag">Rp 9.000/Bulan</p>
  <a href="#" class="buy-button" onclick="openProductOrderFlow('9000', 'Panel RAM 10GB CPU 220%', 'Rp 9.000/Bulan', 'pterodactyl'); return false;">
    <i class="fas fa-shopping-cart"></i>Beli Sekarang
  </a>
</div>

<!-- Panel UNLIMITED -->
<div class="produk">           
  <img src="https://cloudkuimages.guru/uploads/images/681c5e133866a.jpg" alt="Panel Unli">
  <h2>Panel UNLI</h2>
  <ul><li>CPU âˆž</li><li>RAM âˆž</li><li>Disk âˆž</li></ul>
  <p class="price-tag">Rp 10.000/Bulan</p>
  <a href="#" class="buy-button" onclick="openProductOrderFlow('10000', 'Panel RAM UNLI CPU UNLI', 'pterodactyl'); return false;">
    <i class="fas fa-shopping-cart"></i>Beli Sekarang
  </a>
</div>
     </div>        
        <div class="carousel-controls">
            <button id="prevButtonPtero"><i class="fas fa-chevron-left"></i></button>
            <button id="nextButtonPtero"><i class="fas fa-chevron-right"></i></button>
        </div>
    </section>

    <section id="producVip">    
        <div class="list-produk">LIST PANEL SPECIAL OR VIP</div>
        <div class="project-container" id="productCarouselVip">  
            <div class="produk">
                <img src="https://cloudkuimages.guru/uploads/images/681c5e133866a.jpg" alt="Produk Reseller Panel">
                <h2>Reseller Panel</h2>
                <ul><li>Buat Panel Sendiri Lewat Bot</li><li>Cocok Untuk Jualan</li><li>Create Panel Sepuasnya</li><li>Dukungan Penuh</li></ul>
                <p class="price-tag">Rp 12.000/Bulan</p>
                <a href="#" class="buy-button" data-product-type="reseller" onclick="openProductOrderFlow('12000', 'Reseller Panel', 'Rp 12.000/Bulan', 'reseller'); return false;"><i class="fas fa-user-tie"></i> Beli Sekarang </a>
            </div>
            <div class="produk">
                <img src="https://cloudkuimages.guru/uploads/images/681c5e133866a.jpg" alt="Produk Admin Panel">
                <h2>Admin Panel</h2>
                <ul><li>Fitur Admin Lengkap</li><li>Kelola Semua User</li><li>Prioritas Dukungan</li><li>Bisa Jualan</li><li>Jual Admin Panel</li><li>Jual Panel Ram</li><li>Kelola All Server</li><li>Dukungan Penuh</li></ul>
                <p class="price-tag">Rp 15.000/Bulan</p>
                <a href="#" class="buy-button" data-product-type="pterodactyl_admin" onclick="openProductOrderFlow('15000', 'Admin Panel', 'Rp 15.000/Bulan', 'pterodactyl_admin'); return false;"><i class="fas fa-user-shield"></i> Beli Sekarang </a>
            </div>
        </div>    
        <div class="carousel-controls">  
            <button id="prevButtonVip"><i class="fas fa-chevron-left"></i></button>  
            <button id="nextButtonVip"><i class="fas fa-chevron-right"></i></button>  
        </div>  
    </section>
            
    <section id="warning" class="warning">
        <h1 class="section-title"><i class="fas fa-exclamation-triangle"></i> Peringatan</h1>
        <p>Layanan kami ditujukan untuk penggunaan yang positif dan bertanggung jawab.
Segala bentuk penyalahgunaan untuk aktivitas yang melanggar hukum tidak kami toleransi dan dapat dikenai tindakan sesuai kebijakan kami.
</p>
    </section>

    <section id="faq" class="faq">
        <h2 class="section-title"><i class="fas fa-question-circle"></i> Tanya Jawab</h2>
        <ul>
            <li><strong><i class="fas fa-shopping-cart"></i> Cara Pesan?</strong> <p>Pilih produk, klik "Beli", isi data jika perlu, lalu selesaikan pembayaran. Konfirmasi ke admin jika sudah.</p></li>
            <li><strong><i class="fas fa-headset"></i> Ada Bantuan?</strong> <p>Ya, kami siap membantu! Hubungi admin melalui kontak yang tersedia.</p></li>
            <li><strong><i class="fas fa-undo-alt"></i> Garansi?</strong> <p>Ada garansi sesuai ketentuan masing-masing produk. Kepuasan Anda penting bagi kami.</p></li>
        </ul>
    </section>

    <section id="about" class="about">
        <h2 class="section-title"><i class="fas fa-info-circle"></i> Tentang Kami</h2>
        <p>MyHoasting menyediakan layanan Panel berkualitas dengan harga terjangkau. Kami fokus pada keandalan dan kepuasan pelanggan.</p>
    </section>

    <section id="medsos" class="medsos">
        <h1 class="section-title"><i class="fas fa-share-nodes"></i> Kontak & Info</h1>
        <div class="medsos-buttons">
            <button id="whatsappButton"><i class="fab fa-whatsapp"></i> <span>Admin!</span></button>
            <div class="medsos-buttons">
            <button id="whatsappButton1"><i class="fab fa-whatsapp"></i> <span>Customer Service!</span></button>
            <button id="telegramButton"><i class="fab fa-telegram"></i> <span>Channel!</span></button>            
        </div>
    </section>

    <footer>
        <p>Â© 20-25 My Hoasting</p>
    </footer>

    <div class="back-to-top" id="backToTop"><i class="fas fa-arrow-up"></i></div>
  </div>

<script>
    let currentUser = null;
    let currentProduct = { name: '', price: '', formattedPrice: '', type: 'generic' };
    let pterodactylAccountDetails = null; 

    function hideIntro() {
        const introOverlay = document.getElementById('introOverlay');
        const mainContent = document.getElementById('mainContent');

        if (introOverlay) {
            introOverlay.classList.add('hide');
        }
        
        setTimeout(() => {
            if (introOverlay) {
                introOverlay.style.display = 'none';
            }
            if (mainContent) {
                mainContent.style.display = 'block'; 
                setTimeout(() => { 
                    mainContent.classList.add('visible');
                }, 20);
            }
            document.body.style.overflowY = 'auto';
        }, 400); 
    }

    function setupCarousel(carouselId, prevBtnId, nextBtnId) {
        const carousel = document.getElementById(carouselId);
        const prevButton = document.getElementById(prevBtnId);
        const nextButton = document.getElementById(nextBtnId);
        if (carousel && prevButton && nextButton) {
            const productElement = carousel.querySelector('.produk');
            const scrollAmount = productElement ? productElement.offsetWidth + parseFloat(getComputedStyle(carousel).gap || '24px') : 300; 
            prevButton.addEventListener('click', () => carousel.scrollBy({ left: -scrollAmount, behavior: 'smooth' }));
            nextButton.addEventListener('click', () => carousel.scrollBy({ left: scrollAmount, behavior: 'smooth' }));
        }
    }
    
    function updateAuthNav() {
        const authNavLinks = document.getElementById('authNavLinks');
        if (!authNavLinks) return;
        authNavLinks.innerHTML = ''; 
        if (currentUser) {
            const userWelcome = document.createElement('span');
            userWelcome.id = 'userInfo';
            userWelcome.innerHTML = `<i class="fas fa-user"></i> ${currentUser.firstName}`;
            
            const logoutButton = document.createElement('button');
            logoutButton.innerHTML = `<i class="fas fa-sign-out-alt"></i> Logout`;
            logoutButton.onclick = function() {
                localStorage.removeItem('gxyennToken');
                localStorage.removeItem('gxyennUser');
                currentUser = null;
                pterodactylAccountDetails = null;
                updateAuthNav();
                alert('Anda telah logout.');
                window.location.reload();
            };
            authNavLinks.appendChild(userWelcome);
            authNavLinks.appendChild(logoutButton);

        } else {
            const loginLink = document.createElement('a');
            loginLink.href = "/login";
            loginLink.innerHTML = `<button class="login-btn"><i class="fas fa-sign-in-alt"></i> Login</button>`;
            
            const registerLink = document.createElement('a');
            registerLink.href = "/register";
            registerLink.innerHTML = `<button class="register-btn"><i class="fas fa-user-plus"></i> Daftar</button>`;
            
            authNavLinks.appendChild(loginLink);
            authNavLinks.appendChild(registerLink);
        }
    }

    async function checkLoginStatus() {
        const token = localStorage.getItem('gxyennToken');
        const storedUser = localStorage.getItem('gxyennUser');

        if (token && storedUser) {
            try {
                const response = await fetch('/api/auth/status', {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                if (response.ok) {
                    const data = await response.json();
                    if (data.isLoggedIn) {
                        currentUser = data.user; 
                        localStorage.setItem('gxyennUser', JSON.stringify(currentUser));
                    } else { 
                        localStorage.removeItem('gxyennToken');
                        localStorage.removeItem('gxyennUser');
                        currentUser = null;
                    }
                } else { 
                    localStorage.removeItem('gxyennToken');
                    localStorage.removeItem('gxyennUser');
                    currentUser = null;
                }
            } catch (e) {
                localStorage.removeItem('gxyennToken');
                localStorage.removeItem('gxyennUser');
                currentUser = null;
            }
        } else {
            currentUser = null;
        }
        updateAuthNav();
    }

    document.addEventListener("DOMContentLoaded", function () {
        checkLoginStatus();
        setupCarousel('productCarouselPtero', 'prevButtonPtero', 'nextButtonPtero');
        setupCarousel('productCarouselVip', 'prevButtonVip', 'nextButtonVip');


        const backToTopButton = document.getElementById('backToTop');
        if (backToTopButton) {
            window.addEventListener('scroll', () => {
                if (window.scrollY > 200) backToTopButton.classList.add('visible');
                else backToTopButton.classList.remove('visible');
            });
            backToTopButton.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
        }

        const whatsappButton = document.getElementById('whatsappButton');
        if(whatsappButton) whatsappButton.onclick = () => window.open('https://wa.me/6283877636168', '_blank');
        const whatsappButton1 = document.getElementById('whatsappButton1');
        if(whatsappButton1) whatsappButton1.onclick = () => window.open('https://wa.me/6283176591376?text=Hai!ðŸ‘‹', '_blank');
        const telegramButton = document.getElementById('telegramButton');
        if(telegramButton) telegramButton.onclick = () => window.open('https://whatsapp.com/channel/0029Vap5nJh2UPBDIc9bja1s', '_blank');
        
        const introOverlay = document.getElementById('introOverlay');
        if (introOverlay && !introOverlay.classList.contains('hide')) { 
             document.body.style.overflowY = 'hidden';
        } else if (introOverlay && introOverlay.classList.contains('hide')) {
            introOverlay.style.display = 'none'; 
            const mainContent = document.getElementById('mainContent');
            if (mainContent) {
                mainContent.style.display = 'block'; 
                mainContent.classList.add('visible');
            }
        } else { 
             const mainContent = document.getElementById('mainContent');
             if(mainContent) {
                mainContent.style.display = 'block'; 
                mainContent.classList.add('visible');
             }
        }
    });

    function openProductOrderFlow(numericPrice, productName, formattedPriceString, productType = 'generic') {
        if (!currentUser && !confirm("Anda belum login. Melanjutkan pesanan tanpa login akan membuat akun toko baru (jika email belum terdaftar) atau menggunakan akun yang sudah ada. Login/Register direkomendasikan. Lanjutkan?")) {
            window.location.href = '/login';
            return;
        }
        currentProduct = { name: productName, price: numericPrice, formattedPrice: formattedPriceString, type: productType };
        pterodactylAccountDetails = null; 

        if (productType === 'pterodactyl' || productType === 'pterodactyl_admin') {
            openPteroSetupModal();
        } else {
            openPaymentModal(); 
        }
    }
    
    function openPteroSetupModal() {
        const pteroSetupModal = document.getElementById('pteroSetupModal');
        if (!pteroSetupModal) return;
        document.getElementById('pteroSetupProductName').textContent = `${currentProduct.name}`;
        document.getElementById('pteroSetupProductPrice').textContent = `${currentProduct.formattedPrice}`;
        
        const firstNameInput = document.getElementById('pteroUserFirstName');
        const lastNameInput = document.getElementById('pteroUserLastName');
        const emailInput = document.getElementById('pteroUserEmail');

        if (currentUser) {
            firstNameInput.value = currentUser.firstName || '';
            lastNameInput.value = currentUser.lastName || '';
            emailInput.value = currentUser.email || '';
        } else {
            firstNameInput.value = '';
            lastNameInput.value = '';
            emailInput.value = '';
        }
        firstNameInput.readOnly = false; 
        lastNameInput.readOnly = false;
        emailInput.readOnly = false;

        document.getElementById('pteroUserPassword').value = '';
        document.getElementById('pteroConfirmPassword').value = '';
        pteroSetupModal.style.display = 'flex';
    }

    function closePteroSetupModal() {
        const pteroSetupModal = document.getElementById('pteroSetupModal');
        if (pteroSetupModal) pteroSetupModal.style.display = 'none';
    }

    function continueToPayment() {
        const pteroUserFirstName = document.getElementById('pteroUserFirstName').value.trim();
        const pteroUserLastName = document.getElementById('pteroUserLastName').value.trim();
        const pteroUserEmail = document.getElementById('pteroUserEmail').value.trim();
        const pteroUserPassword = document.getElementById('pteroUserPassword').value;
        const pteroConfirmPassword = document.getElementById('pteroConfirmPassword').value;

        if (!pteroUserFirstName || !pteroUserLastName || !pteroUserEmail || !pteroUserPassword || !pteroConfirmPassword) {
            alert('Semua field untuk akun panel Pterodactyl harus diisi.');
            return;
        }
        if (!/^\S+@\S+\.\S+$/.test(pteroUserEmail)) {
            alert('Format email untuk panel Pterodactyl tidak valid.');
            return;
        }
        if (pteroUserPassword.length < 8) {
            alert('Password panel Pterodactyl minimal 8 karakter.');
            return;
        }
        if (pteroUserPassword !== pteroConfirmPassword) {
            alert('Password panel Pterodactyl dan konfirmasinya tidak cocok.');
            return;
        }

        pterodactylAccountDetails = {
            firstName: pteroUserFirstName,
            lastName: pteroUserLastName,
            email: pteroUserEmail,
            password: pteroUserPassword
        };
        closePteroSetupModal();
        openPaymentModal();
    }

    function openPaymentModal() {
        const paymentModal = document.getElementById('paymentModal');
        if(!paymentModal) return;
        document.getElementById('paymentProductName').textContent = `${currentProduct.name}`;
        document.getElementById('paymentProductPrice').textContent = `${currentProduct.formattedPrice}`;
        
        const userEmailForOrderInput = document.getElementById('userEmailForOrder');
        const greetingUserName = document.getElementById('greetingUserName');

        if (currentUser) {
            userEmailForOrderInput.value = currentUser.email;
            greetingUserName.textContent = currentUser.firstName;
        } else {
            userEmailForOrderInput.value = pterodactylAccountDetails ? pterodactylAccountDetails.email : '';
            greetingUserName.textContent = pterodactylAccountDetails ? pterodactylAccountDetails.firstName : "Tamu";
        }

        document.getElementById('transactionId').value = '';
        const paymentProofInput = document.getElementById('paymentProof');
        if(paymentProofInput) paymentProofInput.value = null;
        document.getElementById('qrisLink').href = `https://wa.me/6283877636168?text=Admin+Minta+qris+Nominal+${currentProduct.price}`;
        paymentModal.style.display = 'flex';
    }

    function closePaymentModal() {
        const paymentModal = document.getElementById('paymentModal');
        if(paymentModal) paymentModal.style.display = 'none';
    }

    function copyText(id) {
        const element = document.getElementById(id);
        if(!element) return;
        const value = element.innerText;
        navigator.clipboard.writeText(value).then(() => {
            alert("Disalin ke clipboard: " + value);
        }).catch(err => {
            alert("Gagal menyalin. Silakan coba secara manual.");
        });
    }

    async function submitOrder() {
        const emailForOrder = document.getElementById('userEmailForOrder').value.trim(); 
        const transactionId = document.getElementById('transactionId').value.trim();
        const paymentProofFile = document.getElementById('paymentProof').files[0];
        const submitBtn = document.getElementById('submitOrderButton');
        if(!submitBtn) return;

        if (!emailForOrder && (!pterodactylAccountDetails || !pterodactylAccountDetails.email)) {
            alert('Email akun toko atau email untuk panel (jika belum login) diperlukan.');
            return;
        }
        if (!currentUser && (!pterodactylAccountDetails || !pterodactylAccountDetails.email) && !(currentProduct.type === 'pterodactyl' || currentProduct.type === 'pterodactyl_admin')){
            alert('Silakan login atau register terlebih dahulu untuk melanjutkan pesanan ini.');
            window.location.href = '/login';
            return;
        }

        const formData = new FormData();
        formData.append('userEmail', emailForOrder || (pterodactylAccountDetails ? pterodactylAccountDetails.email : '')); 
        formData.append('productName', currentProduct.name);
        formData.append('productPrice', currentProduct.price);
        formData.append('productPriceFormatted', currentProduct.formattedPrice);
        formData.append('productType', currentProduct.type); 
        formData.append('transactionId', transactionId);
        if (paymentProofFile) formData.append('paymentProof', paymentProofFile);

        if ((currentProduct.type === 'pterodactyl' || currentProduct.type === 'pterodactyl_admin') && pterodactylAccountDetails) {
            formData.append('pteroFirstName', pterodactylAccountDetails.firstName);
            formData.append('pteroLastName', pterodactylAccountDetails.lastName);
            formData.append('pteroEmail', pterodactylAccountDetails.email);
            formData.append('pteroPassword', pterodactylAccountDetails.password);
        }
        
        submitBtn.disabled = true;
        submitBtn.textContent = 'Mengirim Pesanan...';

        try {
            const headers = {};
            const token = localStorage.getItem('gxyennToken');
            if (token) { 
                headers['Authorization'] = `Bearer ${token}`;
            }

            const response = await fetch('/api/orders', {
                method: 'POST',
                headers: headers,
                body: formData
            });
            const result = await response.json();

            if (response.ok) {
                let successMessage = `Pesanan berhasil dikirim! ID Pesanan Anda: ${result.orderId}.`;
                if (currentProduct.type === 'pterodactyl' || currentProduct.type === 'pterodactyl_admin') {
                    successMessage += ` Akun Pterodactyl akan diproses. Cek email (${pterodactylAccountDetails ? pterodactylAccountDetails.email : 'Anda'}) untuk konfirmasi pesanan dan detail login setelah admin menyetujui.`;
                } else {
                    successMessage += ` Cek email Anda untuk konfirmasi pesanan.`;
                }
                alert(successMessage);
                closePaymentModal();
                pterodactylAccountDetails = null; 
            } else {
                alert(`Gagal mengirim pesanan: ${result.message || 'Terjadi kesalahan sistem.'}`);
            }
        } catch (error) {
            alert('Terjadi kesalahan jaringan saat mengirim pesanan. Periksa koneksi Anda atau hubungi admin.');
        } finally {
            submitBtn.disabled = false;
            submitBtn.textContent = 'Kirim Bukti & Data ke Admin';
        }
    }
</script>
</body>
</html>